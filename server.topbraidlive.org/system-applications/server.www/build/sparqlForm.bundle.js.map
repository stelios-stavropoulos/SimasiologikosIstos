{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./uiassets/server/indexSparqlForm.js","webpack:///./uiassets/server/js/sparqlFormApplication.js","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./uiassets/server/js/components/endpoint.js","webpack:///./node_modules/@babel/runtime/helpers/interopRequireWildcard.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","sparqlFormApplication","_typeof","obj","iterator","constructor","endpoint","localStorage","length","lastSavedQuery","lastSavedQueryTime","pattern","match","queryObject","JSON","parse","getItem","queryTime","time","val","document","getElementById","$","click","event","yasqe","setValue","empty","removeItem","query","change","options","sparql","defaultGraphs","this","push","include_imports","args","find","item","index","indexOf","splice","checked","last","URL","lastIndexOf","queryValue","checkSPARQLURL","substring","datatosend","getQueryResults","with_imports","prop","default_graph_uri","format","html","tableHTML","ajax","type","url","data","success","text","each","head","vars","heading","results","bindings","v","append","encodeURIComponent","window","open","status","jqXHR","queryType","update","alert","error","errorMsgTxt","getResponseHeader","responseJSON","parseError","async","_getRequireWildcardCache","WeakMap","cache","has","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","desc","set"],"mappings":"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","file":"sparqlForm.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"lib/server/build/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 442);\n","/*eslint no-console: [\"error\", { allow: [\"warn\", \"error\", \"log\"] }] */\nimport * as sparqlFormApplication from './js/sparqlFormApplication.js';\n\nmodule.exports = sparqlFormApplication;\n","/*eslint no-console: [\"error\", { allow: [\"warn\", \"error\", \"log\"] }] */\nimport './components/endpoint';\n","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","let endpoint = {};\n\nendpoint.restoreLastSavedQuery = () => {\n\tif (localStorage.length > 0) {\n\t\tvar lastSavedQuery = null;\n\t\tvar lastSavedQueryTime = 0;\n\t\tvar pattern = /yasqe_uniqueId[0-9]*_queryVal/g;\n\t\tfor (var i = 0; i < localStorage.length; i++) {\n\t\t\tvar key = localStorage.key(i);\n\t\t\tif (key.match(pattern)) {\n\t\t\t\tvar queryObject = JSON.parse(localStorage.getItem(key));\n\t\t\t\tvar queryTime = queryObject.time;\n\t\t\t\tif (queryTime > lastSavedQueryTime) {\n\t\t\t\t\tlastSavedQueryTime = queryTime;\n\t\t\t\t\tlastSavedQuery = queryObject.val;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (lastSavedQuery) {\n\t\t\tdocument.getElementById('query-area').value = lastSavedQuery;\n\t\t}\n\t}\n};\n\nexport default endpoint;\n\n$(function() {\n    $('.sparql-endpoint-page #clear-query').click(function(event) {\n        //var queryArea = $(\"textarea#query-area\");\n        yasqe.setValue('');\n    });\n\n    $('.sparql-endpoint-page #clear-results').click(function(event) {\n        $('.yasr_results').empty();\n        localStorage.removeItem('yasr_results-content_results');\n    });\n\n    $('.sparql-endpoint-page #submit-query').click(function(event) {\n        yasqe.query();\n    });\n\n    $('.sparql-endpoint-page #default_graph_uri').change(function(event) {\n        yasqe.options.sparql.defaultGraphs = [];\n        if (this.value != '') {\n            yasqe.options.sparql.defaultGraphs.push(this.value);\n        }\n    });\n\n    $('.sparql-endpoint-page #include-imports').change(function(event) {\n        var include_imports = yasqe.options.sparql.args.find(function(item) {\n            return item.name == 'with-imports';\n        });\n        if (include_imports) {\n            var index = yasqe.options.sparql.args.indexOf(include_imports);\n            yasqe.options.sparql.args.splice(index, 1);\n        }\n        if (this.checked) {\n            yasqe.options.sparql.args.push({ name: 'with-imports', value: this.checked });\n        }\n    });\n\n    $('.sparql-endpoint-page #submit-button').click(function() {\n        //chop off the part starting from the servlet name\n        var last = document.URL.lastIndexOf('/');\n        var queryValue = $('.sparql-endpoint-page textarea#query-area').val();\n        var checkSPARQLURL = document.URL.substring(0, last) + '/checksparql';\n        var datatosend = { query: queryValue };\n        var URL = document.URL.substring(0, last) + '/sparql';\n\n        //send the requeust to the check SPARQL Servlet first\n        $.ajax({\n            type: 'POST',\n            url: checkSPARQLURL,\n            data: datatosend,\n            success: function(data, status, jqXHR) {\n                //check if query type update and post to corresponding servlet\n                if (data.queryType == 'UPDATE') {\n                    //call update servlet\n                    var queryValue = $('.sparql-endpoint-page textarea#query-area').val();\n                    datatosend = { update: queryValue };\n                    $.ajax({\n                        type: 'POST',\n                        url: URL,\n                        data: datatosend,\n                        success: function(text) {\n                            alert('Update Applied');\n                        },\n                        error: function(data, status, jqXHR) {\n                            var errorMsgTxt;\n                            if (data.getResponseHeader('badRequest')) {\n                                errorMsgTxt = data.getResponseHeader('badRequest');\n                            } else if (data.getResponseHeader('updatesDisabled')) {\n                                errorMsgTxt = data.getResponseHeader('updatesDisabled');\n                            }\n                            $('.sparql-endpoint-page #results-content').text(errorMsgTxt);\n                        },\n                    });\n                } else {\n                    getQueryResults(URL);\n                }\n            },\n            error: function(data, status, jqXHR) {\n                $('.sparql-endpoint-page #results-content').text(data.responseJSON.parseError);\n            },\n            async: false,\n        });\n\n        function getQueryResults(URL) {\n            var with_imports = $('.sparql-endpoint-page #include-imports').prop('checked') ? true : false;\n            var default_graph_uri = $('.sparql-endpoint-page #default_graph_uri').val();\n            var format = $('.sparql-endpoint-page #format').val();\n            var datatosend = {\n                query: queryValue,\n                'default-graph-uri': default_graph_uri,\n                format: format,\n                'with-imports': with_imports,\n            };\n\n            if (format == 'json') {\n                $('.sparql-endpoint-page #results-content').html('');\n\n                var tableHTML = \"<table border='1'><tr>\";\n                $.ajax({\n                    type: 'POST',\n                    url: URL,\n                    data: datatosend,\n                    success: function(text) {\n                        $.each(text.head.vars, function(i, heading) {\n                            tableHTML += '<th>' + heading + '</th>';\n                        });\n\n                        tableHTML += '</tr>';\n                        $.each(text.results.bindings, function(i, val) {\n                            tableHTML += '<tr>';\n                            $.each(text.head.vars, function(i, heading) {\n                                var v = val[heading];\n                                tableHTML += '<td>' + (v ? v.value : '') + '</td>';\n                            });\n                            tableHTML += '</tr>';\n                        });\n\n                        tableHTML += '</table>';\n                        $('.sparql-endpoint-page #results-content').append(tableHTML);\n                    },\n                });\n                return false;\n            } else {\n                datatosend =\n                    '?query=' +\n                    encodeURIComponent(queryValue) +\n                    '&default-graph-uri=' +\n                    encodeURIComponent(default_graph_uri) +\n                    '&format=' +\n                    encodeURIComponent(format);\n                if (with_imports) {\n                    datatosend += '&with-imports=true';\n                }\n                window.open(URL + datatosend, '_blank');\n            }\n        }\n    });\n});\n","var _typeof = require(\"../helpers/typeof\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      \"default\": obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj[\"default\"] = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nmodule.exports = _interopRequireWildcard;"],"sourceRoot":""}